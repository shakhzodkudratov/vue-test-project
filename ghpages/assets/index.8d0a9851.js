import{a as U,E as c,r as d,o,c as p,b as m,d as u,w as f,F as h,e as y,f as _,g as E,h as B,i as R}from"./vendor.7d7cc2ce.js";const N=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function l(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerpolicy&&(t.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?t.credentials="include":n.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(n){if(n.ep)return;n.ep=!0;const t=l(n);fetch(n.href,t)}};N();var C=(a,e)=>{const l=a.__vccOpts||a;for(const[r,n]of e)l[r]=n;return l};const P="https://api.kraken.com/0/public",V=U.create({baseURL:P}),k={data:()=>({indices:[{label:"BTC"},{label:"ETH"},{label:"USD"},{label:"EUR"}],pairs:[{name:"BTCUSD",rate:0,leading:"BTC",aliases:["XXBTZUSD"]},{name:"BTCEUR",rate:0,leading:"BTC",aliases:["XXBTZEUR"]},{name:"ETHUSD",rate:0,leading:"ETH",aliases:["XETHZUSD"]},{name:"ETHEUR",rate:0,leading:"ETH",aliases:["XETHZEUR"]},{name:"ETHBTC",rate:0,leading:"ETH",aliases:["XETHXXBT"]},{name:"EURUSD",rate:0,leading:"EUR",aliases:["ZEURZUSD"]}],input1:{index:"EUR",value:0},input2:{index:"BTC",value:0}}),computed:{availableIndices(){return this.indices.filter(a=>![this.input1.index,this.input2.index].includes(a.label))}},async mounted(){await this.fetchPairs()},methods:{async fetchPairs(){try{const e=(await V.get("Ticker",{params:{pair:this.pairs.map(l=>l.name).join(",")}})).data;if(e.error.length>0){c({title:"Error!",message:e.error.join(`
`),type:"error"});return}for(const l in e.result)this.updatePairRate(l,e.result[l]);c({title:"Success!",message:"Pairs fetched successfully",type:"success"})}catch(a){console.error(a),c({title:"Error!",message:"Error occurred while fetching data",type:"error"})}},updatePairRate(a,e){var r;const l=this.getPairByRawIndex(a);l&&(l.rate=this.NaNReplacer(l.rate,(r=e.a)==null?void 0:r[0]))},getPairByRawIndex(a){return this.pairs.find(e=>e.aliases.includes(a))},getPairsByIndex(a){return this.pairs.filter(e=>e.name.includes(a))},getPairByIndices(a,e){return this.pairs.find(l=>l.name.includes(a)&&l.name.includes(e))},calculate(a,e){const{index:l,value:r=0}=a,{index:n}=e,t=this.getPairByIndices(l,n);t&&(t.leading===l?e.value=this.NaNReplacer(e.value,r*t.rate):e.value=this.NaNReplacer(e.value,r/t.rate))},NaNReplacer(a,e){return Number.isNaN(e)?a:e}}},I={class:"calc"},H={class:"mb-1"},L=_("Fetch data again"),S={class:"d-flex mb-1"},X={class:"d-flex"};function w(a,e,l,r,n,t){const i=d("el-button"),g=d("el-option"),v=d("el-select"),b=d("el-input-number");return o(),p("div",I,[m("div",H,[u(i,{type:"primary",plain:"",onClick:t.fetchPairs},{default:f(()=>[L]),_:1},8,["onClick"])]),m("div",S,[u(v,{class:"mr-2 calc__select",modelValue:a.input1.index,"onUpdate:modelValue":e[0]||(e[0]=s=>a.input1.index=s),onChange:e[1]||(e[1]=s=>t.calculate(a.input1,a.input2))},{default:f(()=>[(o(!0),p(h,null,y(t.availableIndices,s=>(o(),E(g,{key:s.label,label:s.label,value:s.label},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),u(b,{class:"calc__number",modelValue:a.input1.value,"onUpdate:modelValue":e[2]||(e[2]=s=>a.input1.value=s),onChange:e[3]||(e[3]=s=>t.calculate(a.input1,a.input2)),"controls-position":"right"},null,8,["modelValue"])]),m("div",X,[u(v,{class:"mr-2 calc__select",modelValue:a.input2.index,"onUpdate:modelValue":e[4]||(e[4]=s=>a.input2.index=s),onChange:e[5]||(e[5]=s=>t.calculate(a.input2,a.input1))},{default:f(()=>[(o(!0),p(h,null,y(t.availableIndices,s=>(o(),E(g,{key:s.label,label:s.label,value:s.label},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),u(b,{class:"calc__number",modelValue:a.input2.value,"onUpdate:modelValue":e[6]||(e[6]=s=>a.input2.value=s),onChange:e[7]||(e[7]=s=>t.calculate(a.input2,a.input1)),"controls-position":"right"},null,8,["modelValue"])])])}var D=C(k,[["render",w]]);const T=B(D);T.use(R);T.mount("#app");
